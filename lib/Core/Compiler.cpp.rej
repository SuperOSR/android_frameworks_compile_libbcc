--- lib/Core/Compiler.cpp
+++ lib/Core/Compiler.cpp
@@ -168,7 +168,8 @@
   lto_passes.add(target_data);
 
   // Invokde "beforeAddLTOPasses" before adding the first pass.
-  if (!beforeAddLTOPasses(pScript, lto_passes)) {
+  if (!beforeAddLTOPasses(pScript, lto_passes,
+                          mTarget->getTargetTriple().data())) {
     return kErrHookBeforeAddLTOPasses;
   }
 
@@ -262,7 +263,7 @@
   }
 
   // Invokde "beforeExecuteLTOPasses" before executing the passes.
-  if (!beforeExecuteLTOPasses(pScript, lto_passes)) {
+  if (!beforeExecuteLTOPasses(pScript, lto_passes, mTarget->getTargetTriple().data())) {
     return kErrHookBeforeExecuteLTOPasses;
   }
 
